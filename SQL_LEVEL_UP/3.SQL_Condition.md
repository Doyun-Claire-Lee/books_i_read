# SQL의 조건 분기

## UNION을 사용한 쓸데없이 긴 표현
- WHERE 구만 조금씩 다른 여러 개의 SELECT 구문을 합쳐서 복수의 조건에 일치하는 하나의 결과 집합을 얻고 싶을 때 사용
- 내부적으로 여러개의 SELECT 구문을 실행하는 실행 계획으로 해석되기 때문에 성능적인 측면에서 굉장히 불리
- '구문(절차 지향)'에서 '식'으로 사고를 변경하는 것이 SQL을 마스터하는 열쇠 중 하나
- 항상 'CASE로 어떻게 해결할 수 있을 것인가'를 꾸준히 의식하는 것이 중요

## 집계와 조건 분기
- GROUP BY를 사용할 경우 집약 결과가 스칼라(더이상 분할 불가능한 값)이 되기 때문에 CASE 식의 매개변수에 집약 함수를 넣을 수 있음

## 그래도 UNION이 필요한 경우
- UNION을 사용할 때 인덱스를 사용하게 되고, 이외의 경우는 테이블 풀 스캔을 하는 경우 UNION 사용이 더 유리할 수 있음
- 그러나 이러한 경우는 굉장히 예외적이므로, 대부분의 경우 적용되지 않음

## 절차 지향형과 선언형
- SQL 초보자는 절차 지향적인 세계에서 살고 있고, 생각의 기본 단위가 '구문'임
- SQL 중급자 이상은 선언적인 세계에서 살고 있고, 여기서의 기본 단위는 '식'임
- SQL 초보자가 UNION을 사용해 조건 분기를 하는 이유는 UNION이라는 것 자체가 구문을 바탕으로 하는 절차 지향정인 체계를 사용하기 때문

